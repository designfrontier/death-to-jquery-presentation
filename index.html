<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>reveal.js</title>

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/league-spartan.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>
        <style type="text/css">
            #background {
                width: 100vw;
                height: 100vh;
                position: relative;
            }

            #background:before {
                content: ' ';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(50, 0, 0, 0.5);
            }

            .wrapper {
                position: absolute;
                top: 0;
                right: 0;
                left: 0;
                bottom: 0;
            }
            section {
                text-align: left;
            }
        </style>
    </head>
    <body>
        <div id="background">
        </div>

        <div class="wrapper">
            <div class="reveal">
                <div class="slides">
                    <section>
                        <h1 class="first-slide-title">Death to jQuery</h1>
                    </section>
                    <section>
                        <h2> Hi! I'm Daniel</h2>
                        <h3>Engineer on Bridge</h3>
                    </section>
                    <section>
                        <h2>Before we get to the killing part...</h2>
                        <h3>Let's talk about where we've been</h3>
                    </section>
                    <section>
                        <h2>In the beginning...</h2>
                        <h3>there was &lt;html&gt;</h3>
                    </section>
                    <section data-background-image="lib/img/First_Web_Server.jpg">
                        <p class="attribution">By <a href="https://en.wikipedia.org/wiki/User:Coolcaesar" class="extiw" title="en:User:Coolcaesar">Coolcaesar</a> at the <a href="https://en.wikipedia.org/wiki/" class="extiw" title="w:">English language Wikipedia</a>, <a href="http://creativecommons.org/licenses/by-sa/3.0/" title="Creative Commons Attribution-Share Alike 3.0">CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=395096">Link</a></p>
                    </section>
                    <section>
                        <h2>The rise of styles and scripts: DHTML</h2>
                        <aside class="notes">
                            Still server request/response bound
                        </aside>
                    </section>
                    <section>
                        <h2>AJAX</h2>
                        <aside class="notes">
                            1998 - Microsoft makes first XMLHttp request in Outlook web app?
                            1999 - XMLHttp shipped in IE 5
                            XMLHttp implemented by everyone else as XMLHttpRequest
                            2005 - Jesse James Garret coins the term AJAX
                            2006 - First draft release of the Spec for XHR
                        </aside>
                    </section>
                    <section>
                        <h2>2006.</h2>
                        <h3>Let that sink in for a minute.</h3>
                    </section>
                    <section>
                        <h2>Web Applications</h2>
                    </section>
                    <section>
                        <h2>Frameworks and more!</h2>
                    </section>
                    <section>
                        <h2 class="force-top">So... jQuery <strike>is</strike> was amazing</h2>
                        <section>
                            <aside class="notes">
                                August 26, 2006 - first release
                            </aside>
                        </section>
                        <section>
                            <ul>
                                <li>Made AJAX simple cross browser</li>
                            </ul>
                        </section>
                        <section>
                            <ul>
                                <li class="secondary-item">Made AJAX simple cross browser</li>
                                <li>Made js and DOM easy cross browser</li>
                            </ul>
                            <aside class="notes">
                                <ul>
                                    <li>document.querySelectorAll didn't land in IE until 8</li>
                                </ul>
                            </aside>
                        </section>
                        <section>
                            <ul>
                                <li class="secondary-item">Made AJAX simple cross browser</li>
                                <li class="secondary-item">Made js and DOM easy cross browser</li>
                                <li>Made dynamic applications approachable</li>
                            </ul>
                        </section>
                        <section>
                            <ul>
                                <li class="secondary-item">Made AJAX simple cross browser</li>
                                <li class="secondary-item">Made js and DOM easy cross browser</li>
                                <li class="secondary-item">Made dynamic applications approachable</li>
                                <li>Web standards were not a thing</li>
                            </ul>
                            <aside class="notes">
                                <ul>
                                    <li>(designing with web standards 2003, jquery 2006).</li>
                                </ul>
                            </aside>
                        </section>
                    </section>
                    <section>
                        <h2>Web Standards won!</h2>
                        <h3>... well mostly</h3>
                        <aside class="notes">
                            <ul>
                                <li>XMLHttpRequest in all browsers post IE 7 October (>2006)</li>
                                <li>document.querySelectorAll didn't land in IE until 8 (2009)</li>
                            </ul>
                        </aside>
                    </section>
                    <section>
                        <h2>What did we use jQuery for anyway?</h2>
                        <section>
                            <aside class="notes">
                                August 26, 2006 - first release
                            </aside>
                        </section>
                        <section>
                            <ul>
                                <li>Animation</li>
                            </ul>
                        </section>
                        <section>
                            <ul>
                                <li class="secondary-item">Animation</li>
                                <li>AJAX</li>
                            </ul>
                        </section>
                        <section>
                            <ul>
                                <li class="secondary-item">Animation</li>
                                <li class="secondary-item">AJAX</li>
                                <li>Working with the DOM</li>
                            </ul>
                        </section>
                    </section>
                    <section>
                        <h2>Working With the DOM</h2>
                        <section></section>
                        <section>
                            <pre><code data-trim>
                                var elem = $('#myElementId');
                                // becomes
                                var elem = document.getElementByID('myElementId');
                            </code></pre>
                        </section>
                        <section>
                            <pre><code data-trim>
                                var elem = $('.my-class');
                                // becomes
                                var elem = document.querySelectorAll('.my-class');
                                // or
                                var elem = document.querySelector('.my-class');
                            </code></pre>
                        </section>
                        <section>
                            <h3>So... what's the difference between</h3>
                            <pre><code data-trim>
                                const elem = document.querySelectorAll('.my-class'); //returns array like object
                                // and
                                const elem = document.querySelector('.my-class'); //returns DOM node
                            </code></pre>
                        </section>
                        <section>
                            <pre><code data-trim>
                                const domQuery = (selector) => {
                                    const isId = selector.match(/#/);
                                    const Arr = Array.prototype;

                                    if (isId) {
                                        return document.querySelector(selector);
                                    } else {
                                        return Arr.slice.call(document.querySelectorAll(selector) || []);
                                    }
                                };
                            </code></pre>
                        </section>
                        <section>
                            <h3>What about finding parent nodes?</h3>
                            <pre><code data-trim>
                                const elem = domQuery('#myId');

                                elem.parentNode.remove(elem);
                                // or...
                                elem.parentElement.remove(elem);

                                //or maybe the next sibling element
                                sibling = elem.nextSibling;
                            </code></pre>

                            <aside class="notes">
                                there are some edge cases where they act differently.
                                for instance: document.documentElement is null in .parentElement and the document node in .parentNode.
                            </aside>
                        </section>
                    </section>
                    <section>
                        <h2>Native AJAX</h2>
                        <section></section>
                        <section>
                            <pre><code data-trim>
                                $.get('http://instructure.bridgeapp.com/api/users', function (data) {
                                    // do stuff!
                                });
                            </code></pre>
                        </section>
                        <section>
                            <h3>Streams!</h3>
                            <pre><code data-trim>
                                const req = new XMLHttpRequest();

                                //register eent listener before we don anything else
                                req.addEventListener('load', function () {
                                    const response = JSON.parse(this.responseText);

                                    //Cool! We have the datas.
                                });

                                // tell the request what to go get
                                req.open('GET', 'http://instructure.bridgeapp.com/api/users');

                                // tell the request to send
                                req.send();
                            </code></pre>
                        </section>
                        <section>
                            <h3>Streams!</h3>
                            <pre><code data-trim>
                                const req = new XMLHttpRequest();

                                //register eent listener before we don anything else
                                req.addEventListener('load', function () {
                                    const response = JSON.parse(this.responseText);

                                    //Cool! We have the datas.
                                });

                                // tell the request what to go get
                                req.open('POST', 'http://instructure.bridgeapp.com/api/users');
                                req.setRequestHeader('Content-Type', 'application/json');

                                // tell the request to send
                                req.send(JSON.stringify({
                                    name: 'Luke Skyjogger',
                                    role: 'admin'
                                }));
                            </code></pre>
                        </section>
                        <section>
                            <h3>Fetch!</h3>
                            <pre><code data-trim>
                                fetch('http://instructure.bridgeapp.com/api/users')
                                    .then((response) => {
                                        response.json().then((data) => {
                                            // this is where we do stuff with the data
                                        });
                                    });

                                // or

                                fetch('http://instructure.bridgeapp.com/api/users')
                                    .then((response) => {
                                        return response.json();
                                    }).then((data) => {
                                        // this is where we do stuff with the data
                                    });
                            </code></pre>
                            <aside class="notes">
                                point out the need for the then on the new json API in fetch
                            </aside>
                        </section>
                        <section>
                            <h3>Fetch!</h3>
                            <pre><code data-trim>
                                fetch('http://instructure.bridgeapp.com/api/users', {
                                    method: 'POST',
                                    body: JSON.stringify({
                                        name: 'Luke Skyjogger',
                                        role: 'admin'
                                    })
                                }).then((response) => {
                                    return response.json();
                                }).then((data) => {
                                    // this is where we do stuff with the data
                                });
                            </code></pre>
                        </section>
                    </section>
                    <section>
                        <h2>Animations...</h2>
                        <section></section>
                        <section>
                            <pre><code data-trim>
                                $('#myElement').animate({
                                    height: '200px',
                                    width: '200px'
                                });

                                //or

                                $('#myElement').animate({
                                    height: '200px',
                                    width: '200px'
                                }, 400, 'easein', () => {
                                    #('myElementTwo').animate({
                                        height: '100px',
                                        width: '100px'
                                    }, 400, 'easin');
                                });
                            </code></pre>
                            <aside class="notes">
                                The first... can probably be a CSS transform/transition. The second... for that you need a framework.
                            </aside>
                        </section>
                        <section>
                            <h3>Web Animations API</h3>
                            <pre><code data-trim>
                                var player = document.getElementById('toAnimate').animate([
                                    { transform: 'scale(1)', opacity: 1, offset: 0 },
                                    { transform: 'scale(.5)', opacity: .5, offset: .3 },
                                    { transform: 'scale(.667)', opacity: .667, offset: .7875 },
                                    { transform: 'scale(.6)', opacity: .6, offset: 1 }
                                ], {
                                    duration: 700, //milliseconds
                                    easing: 'ease-in-out', //'linear', a bezier curve, etc.
                                    delay: 10, //milliseconds
                                    iterations: Infinity, //or a number
                                    direction: 'alternate', //'normal', 'reverse', etc.
                                    fill: 'forwards' //'backwards', 'both', 'none', 'auto'
                                });
                            </code></pre>
                            <p>Courtesy of <a href="http://danielcwilson.com/blog/2015/07/animations-part-1/">Daniel C. Wilson</a></p>
                            <aside class="notes">
                                Timeline, animation groups, getAnimations, motion paths, and more!
                            </aside>
                        </section>
                        <section>
                            <h3>Web Animations API</h3>
                            <pre><code data-trim>
                                var elem = document.getElementById('toAnimate');
                                var elem2 = document.getElementById('toAnimate2');
                                var timings = {
                                  duration: 1000
                                }
                                var keyframes = [
                                  { opacity: 1 }.
                                  { opacity: 0 }
                                ];

                                var kEffects = [
                                  new KeyframeEffect(elem, keyframes, timings),
                                  new KeyframeEffect(elem2, keyframes, timings)
                                ];
                                var group = new SequenceEffect(kEffects);
                                document.timeline.play(group);
                            </code></pre>
                        </section>
                        <section>
                            <h3>Green Sock Animation Platform</h3>
                        </section>
                    </section>
                    <section>
                        <h2>So... jQuery <strike>is</strike> was amazing</h2>
                    </section>
                    <section>
                        <h2>But now we have better tools</h2>
                    </section>
                    <section>
                        <h2>RIP jQuery</h2>
                        <h3>2006&mdash;2016</h3>
                    </section>
                </div>
            </div>
        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/trianglify/1.0.1/trianglify.min.js"></script>

        <script>
            const randomInt = (max) => {
                return parseInt(Math.random() * (max - 70) + 70);
            }

            const randomColor = () => '#'+(Math.random()*0xFFFFFF<<0).toString(16);

            const generateBackground = (seed) => {
                var pattern = Trianglify({
                    height: document.body.clientHeight,
                    width: document.body.clientWidth,
                    cell_size: randomInt(150),
                    variance: '0.' + randomInt(100),
                    x_colors: 'random',
                    y_colors: 'random',
                    seed: seed
                });

                [].slice.call(document.getElementById('background').getElementsByTagName('svg')).forEach((svg) => svg.remove());

                document.getElementById('background').appendChild(pattern.svg());
            }

            // More info https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                history: true,
                progress: false,
                controls: false,

                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    { src: 'plugin/markdown/marked.js' },
                    { src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
                ]
            });

            const backgroundListener = (event) => {
                const seedElem = document.querySelector('.present h2') ||
                                document.querySelector('.present h1') ||
                                'The world is a cold dark place';

                if (event.indexv > 0 && document.querySelector('.stack.present h2')) {
                    document.querySelector('.stack.present h2').style['margin-top'] = "60px";
                } else if (document.querySelector('.stack.present h2')){
                    document.querySelector('.stack.present h2').style['margin-top'] = "282px";
                }

                generateBackground(seedElem.textContent);
            };

            Reveal.addEventListener( 'slidechanged', backgroundListener);
            Reveal.addEventListener( 'ready', backgroundListener);
        </script>
    </body>
</html>
