<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>reveal.js</title>

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/league-spartan.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>
        <style type="text/css">
            #background {
                width: 100vw;
                height: 100vh;
                position: relative;
            }

            #background:before {
                content: ' ';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(50, 0, 0, 0.5);
            }

            .wrapper {
                position: absolute;
                top: 0;
                right: 0;
                left: 0;
                bottom: 0;
            }
            section {
                text-align: left;
            }
        </style>
    </head>
    <body>
        <div id="background">
        </div>

        <div class="wrapper">
            <div class="reveal">
                <div class="slides">
                    <section>
                        <h1 class="first-slide-title">Death to jQuery</h1>
                    </section>
                    <section>
                        <h2>Before we get to the killing part...</h2>
                        <h3>Let's talk about where we've been</h3>
                    </section>
                    <section>
                        <h2>In the beginning...</h2>
                        <h3>there was &lt;html&gt;</h3>
                    </section>
                    <section>
                        <h2>The rise of styles and scripts: DHTML</h2>
                    </section>
                    <section>
                        <h2>AJAX</h2>
                    </section>
                    <section>
                        <h2>Web Applications</h2>
                    </section>
                    <section>
                        <h2>Frameworks and more!</h2>
                    </section>
                    <section>
                        <h2>So... jQuery <strike>is</strike>was amazing</h2>
                    </section>
                    <section>
                        <h2>So... jQuery <strike>is</strike>was amazing</h2>
                        <ul>
                            <li>Made ajax simple cross browser</li>
                            <li>Made DOM manip easy cross browser</li>
                            <li>Made js easy cross browser</li>
                            <li>Made dynamic applications approachable</li>
                            <li>Web standards were not a thing (designing with web standards 2003, jquery 2006)</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Web Standards won!</h2>
                        <h3>... well mostly</h3>
                    </section>
                    <section>
                        <h2>What did we use jQuery for anyway?</h2>
                    </section>
                    <section>
                        <h2>What did we use jQuery for anyway?</h2>
                        <ul>
                            <li>Animation</li>
                            <li>AJAX</li>
                            <li>DOM Modification</li>
                            <li>DOM Selection</li>
                        </ul>
                    </section>
                    <section>
                        <h2>DOM Selection</h2>
                    </section>
                    <section>
                        <h2>DOM Modification</h2>
                    </section>
                    <section>
                        <h2>Native AJAX</h2>
                    </section>
                    <section>
                        <h2>Animations...</h2>
                    </section>
                </div>
            </div>
        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/trianglify/1.0.1/trianglify.min.js"></script>

        <script>
            const randomInt = (max) => {
                return parseInt(Math.random() * (max - 70) + 70);
            }

            const randomColor = () => '#'+(Math.random()*0xFFFFFF<<0).toString(16);

            const generateBackground = (seed) => {
                var pattern = Trianglify({
                    height: document.body.clientHeight,
                    width: document.body.clientWidth,
                    cell_size: randomInt(150),
                    variance: '0.' + randomInt(100),
                    x_colors: 'random',
                    y_colors: 'random',
                    seed: seed
                });

                [].slice.call(document.getElementById('background').getElementsByTagName('svg')).forEach((svg) => svg.remove());

                document.getElementById('background').appendChild(pattern.svg());
            }

            // More info https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                history: true,
                progress: false,
                controls: false,

                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    { src: 'plugin/markdown/marked.js' },
                    { src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
                ]
            });

            const backgroundListener = (event) => {
                const seedElem = document.querySelector('.present h2') ||
                                document.querySelector('.present h1');

                debugger;

                generateBackground(seedElem.textContent);
            };

            Reveal.addEventListener( 'slidechanged', backgroundListener);
            Reveal.addEventListener( 'ready', backgroundListener);
        </script>
    </body>
</html>
